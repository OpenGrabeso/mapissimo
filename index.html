<!DOCTYPE html>
<html>
<head>

  <title>Demo - Tracks OSM map</title>
  <!-- adapted from https://leafletjs.com/examples/quick-start/example.html -->

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha384-tsQFqpEReu7ZLhBV2VZlAu7zcOV+rXbYlF2cqB8txI/8aZajjp4Bqd+V6D5IgvKT" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="demo.css"/>
  <script src="extension/layers.js"></script>
  <script src="lib/leaflet.restoreview.js"></script>
  <script src="lib/leaflet.zoomdisplay.js"></script>
  <script src="lib/leaflet.export.js"></script>
  <script src="extension/leaflet.grid.js"></script>

</head>
<body>



<div id="mapid"></div>
<script>

    function buildBaseMaps() {
        var baseMaps = {};
        for (var i = 0; i < AdditionalMapLayers.length; i++ ) {
            var layer = AdditionalMapLayers[i];
            var tiles = tileLayer(layer);
            baseMaps[layer.name] = tiles;
        }
        return baseMaps;
    }

    var mymap = L.map('mapid');

    if (!mymap.restoreView()) {
        mymap.setView([50, 10], 6);
    }

    function tileLayer(l) {
        var r = L.tileLayer(l.url, l.opts);
        if (l.overlay) {
            var o = L.tileLayer(l.overlay.url, l.overlay.opts);
            r = L.layerGroup([r, o, L.grid()]);
        } else {
            r = L.layerGroup([r, L.grid()]);
        }
        return r;
    }

    var baseMaps = buildBaseMaps();

    L.control.layers(baseMaps).addTo(mymap);
    baseMaps[AdditionalMapLayers[0].name].addTo(mymap);

</script>



</body>
</html>
